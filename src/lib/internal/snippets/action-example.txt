<script lang="ts">
	import type { HighlightOptions } from 'highlight.js';
	import hljs from 'highlight.js/lib/core';
    import javascript from 'highlight.js/lib/languages/javascript';
    import powershell from 'highlight.js/lib/languages/powershell';
    import plaintext from 'highlight.js/lib/languages/plaintext';
    import 'highlight.js/styles/a11y-dark.css';
    hljs.registerLanguage('javascript', javascript);
    hljs.registerLanguage('powershell', powershell);
    hljs.registerLanguage('plaintext', plaintext);

	export let code: string;
	export let options: HighlightOptions = { language: 'plaintext' };
</script>

<pre {...$$restProps} class="hljs w-min {$$props.class}"><code class="language-{options.language}">{@html hljs.highlight(code, options).value.trim()}</code></pre>
